import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.util.ArrayList;

class Registration {
    String name, usn, branch, event;
    Registration(String n, String u, String b, String e) {
        name = n; usn = u; branch = b; event = e;
    }
}

public class CollegeEventRegistrationGUI {
    static ArrayList<Registration> regList = new ArrayList<>();

    public static void main(String[] args) {
        JFrame frame = new JFrame("College Event Registration");
        frame.setSize(400, 350);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setLayout(new GridLayout(6, 2, 5, 5));

        JLabel l1 = new JLabel("Student Name:");
        JTextField t1 = new JTextField();

        JLabel l2 = new JLabel("USN:");
        JTextField t2 = new JTextField();

        JLabel l3 = new JLabel("Branch:");
        JTextField t3 = new JTextField();

        JLabel l4 = new JLabel("Select Event:");
        String events[] = {"Hackathon", "Coding Contest", "Robotics", "Paper Presentation", "Tech Quiz"};
        JComboBox<String> cb = new JComboBox<>(events);

        JButton b1 = new JButton("Register");
        JLabel msg = new JLabel("", SwingConstants.CENTER);

        JButton b2 = new JButton("View Registrations");

        frame.add(l1); frame.add(t1);
        frame.add(l2); frame.add(t2);
        frame.add(l3); frame.add(t3);
        frame.add(l4); frame.add(cb);
        frame.add(b1); frame.add(msg);
        frame.add(b2); frame.add(b2);

        // Register button action
        b1.addActionListener(e -> {
            String name = t1.getText();
            String usn = t2.getText();
            String branch = t3.getText();
            String event = (String)cb.getSelectedItem();

            if(name.isEmpty() || usn.isEmpty() || branch.isEmpty()) {
                msg.setText("⚠ Please fill all fields!");
                msg.setForeground(Color.RED);
            } else {
                regList.add(new Registration(name, usn, branch, event));
                msg.setText("✔ Registered for " + event);
                msg.setForeground(Color.BLUE);

                t1.setText(""); t2.setText(""); t3.setText("");
            }
        });

        // View registrations button action
        b2.addActionListener(e -> {
            JFrame viewFrame = new JFrame("Registered Students");
            viewFrame.setSize(350, 300);

            String column[] = {"Name", "USN", "Branch", "Event"};
            String data[][] = new String[regList.size()][4];

            for(int i = 0; i < regList.size(); i++) {
                data[i][0] = regList.get(i).name;
                data[i][1] = regList.get(i).usn;
                data[i][2] = regList.get(i).branch;
                data[i][3] = regList.get(i).event;
            }

            JTable table = new JTable(data, column);
            JScrollPane sp = new JScrollPane(table);
            viewFrame.add(sp);

            viewFrame.setVisible(true);
        });

        frame.setVisible(true);
    }
}
